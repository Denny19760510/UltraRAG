# 简单介绍

## 仓库简单介绍

ultrarag整体上以模块+workflow的思路为主，

- ultrarag/common： 一些公用的代码放到下面，包括一些配置文件、通用的效用函数和一些公共的组件
- ultrarag/modules： 存放单独的功能模块，例如embedding、reranker、llm等，我们希望这些模块尽可能独立，每个模块如果有多个不同的实现，则需要实现一个抽象类，每个模块复用，另外希望该模块如果能提供单独的服务，则可以将服务的实现放在一个脚本中
- ultrarag/server：一个最小demo的简单页面实现
- resource： 存放模型文件、数据库、索引等文件
- ultrarag.yaml：实时请求的全局配置文件
- run_server.sh 最小demo的启动脚本

## 最小规范

#### 代码规范

- 尽可能少的引入外部依赖，例如前期的BCEmbedding，后期可以单独使用transformers单独实现
- 配置文件全局生效，配置参数有两类，一类是静态的，一类是动态的，期望是系统出现问题时，根据仓库的commit和配置文件能在本地复现效果
- 通用的逻辑写到模块中，定制的处理逻辑写到workflow中
- 页面交互逻辑和对话逻辑分离

#### 提交规范

主要分支有两个ultrarag分支和dev分支：

- ultrarag分支为生产环境分支，用于发布正式版本，用于生产环境部署
- dev分支为开发环境分支，用于代码功能开发，用于开发环境验证
- 当需要开发新功能时，首先在dev上创建一个新的分支，命名规范为feature/your_function，然后进行开发和提交
- 当上一阶段的开发完成时，在不冲突的情况下，可以合并到dev分支进行验证，如果有问题则在feature/your_function继续开发，最终合并到dev分支
- 当dev分支验证完成时，合并到ultrarag分支
